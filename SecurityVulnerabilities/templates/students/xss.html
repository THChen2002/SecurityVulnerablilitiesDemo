{% extends "base.html" %}
{% block title %}首頁{% endblock %}
{% block content %}
<h1>什麼是 XSS？</h1>
<p>XSS 是 Web 應用程式中的漏洞，允許執行非法客戶端腳本。從攻擊者的角度來看，XSS 攻擊是一種攻擊者將惡意用戶端腳本注入 Web 應用程式的技術。當使用者請求受影響的頁面時，惡意腳本就會被執行。惡意行為者將 XSS
    用於各種目的，包括以下常見情況：
    <ul>
        <li>竊取敏感資訊</li>
        <li>身分盜竊</li>
        <li>遠端程式碼執行</li>
    </ul>
</p>

<h3>反射型XSS</h3>
<p>在反射型 XSS 攻擊中，攻擊者將惡意程式碼注入 Web 應用程式的易受攻擊的元件中，例如輸入欄位或 URL 參數。當受害者造訪受影響的頁面時，Web 應用程式會將注入的程式碼反映到受害者的瀏覽器，然後受害者的瀏覽器會執行該程式碼，就好像它是頁面本身的一部分一樣。這可能允許攻擊者竊取敏感資訊，例如登入憑證，甚至控制受害者的會話。</p>
<img src="https://media.geeksforgeeks.org/wp-content/uploads/20210706191745/tuxpicom1625579254.jpg" alt="" width="50%">

<p>請在下方輸入&lt;script&gt;alert('XSS');&lt;/script&gt;</p>
<form method="POST">
    {% csrf_token %}
    <div class="row">
        <div class="col-4">
            <input type="text" class="form-control" name="message"/>
        </div>
        <div class="col-4">
            <input type="submit" class="btn btn-primary" value="送出"/>
        </div>
    </div>
</form>

<p>你輸入的內容為</p>
<p>{{ message|safe }}</p>

<h3>儲存型XSS</h3>
<p>在儲存型 XSS 攻擊中，攻擊者將惡意程式碼注入 Web 應用程序，然後將其儲存在伺服器上並提供給訪問受影響頁面的所有使用者。這種類型的攻擊可能特別危險，因為攻擊者可以透過一次注入來危害大量使用者。
    </p>
<img src="https://media.geeksforgeeks.org/wp-content/uploads/20210706203825/tuxpicom1625584086.jpg" alt="" width="50%">

<p>會被保存在伺服器資料庫中的 JavaScript 代碼引起的攻擊即為 Stored XSS，最常見的就是論壇文章、留言板等等，因為使用者可以輸入任意內容，若沒有確實檢查，那使用者輸入如<script></script>  等關鍵字就會被當成正常的 HTML 執行，標籤的內容也會被正常的作為 JavaScript 代碼執行。</p>
<p>請至<a href="{% url 'Board' %}">留言板</a>嘗試儲存型XSS</p>

<h3>DOM型XSS</h3>
<p> <ul>
    <li>DOM XSS 代表基於文件物件模型的跨站點腳本。基於 DOM 的漏洞發生在客戶端執行的內容處理階段，通常是在客戶端 JavaScript 中。</li>
    <li>基於 DOM 的 XSS 的工作原理與反射型 XSS 類似 — 攻擊者操縱客戶端的瀏覽器環境（文件物件模型）並將有效負載放入頁面內容中。主要區別在於，由於惡意負載儲存在瀏覽器環境中，因此可能不會在伺服器端發送。這樣所有與流量分析相關的保護機制都會失效。</li>
    <li>在反射型和儲存型跨站腳本攻擊中，您可以在回應頁面中看到漏洞惡意腳本，但在 DOM 的跨站腳本中，HTML 原始碼和攻擊的回應將是相同的，即惡意腳本無法在Web 伺服器的回應中找到。</li>
    <li>在DOM-based XSS攻擊中，惡意字符串在網站的合法JavaScript被執行之前，不會被受害者的瀏覽器解析。要執行DOM-based XSS攻擊，您需要將數據放入源以便它被傳播到一個漏洞並導致執行任意的JavaScript代碼。</li>
</ul>
</p>
<div>
    <script>
        var create_text = function() {
            debugger
            var name = $('#name').val();
            $('#show_name').html(name);
        }
    </script>
    
    <input id="name" type="text" class="form-control"/>
    <div class="col-md-2">
        <button onclick="create_text();" type="submit" class="btn btn-primary">送出</button>
    </div>
    <p>你輸入的內容為</p>
    <span id="show_name"></span>
</div>
<form action="{% url 'Test'%}">
    <input type="text" name="aaa" value="1">
    <button type="submit" class="btn btn-primary"></button>
</form>

<p>reference : <a href="https://www.linkedin.com/pulse/web-security-binesh-madharapu">網路安全</a>、<a href="https://www.geeksforgeeks.org/dom-based-cross-site-scripting-attack-in-depth/">DOM-based Cross-Site Scripting Attack in Depth</a></p>
{% endblock %}